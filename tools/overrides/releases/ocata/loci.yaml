images:
  tags:
    barbican_api: 'docker.io/openstackhelm/barbican:ocata'
    barbican_db_sync: 'docker.io/openstackhelm/barbican:ocata'
    bootstrap: 'docker.io/openstackhelm/heat:ocata'
    cinder_api: 'docker.io/openstackhelm/cinder:ocata'
    cinder_backup: 'docker.io/openstackhelm/cinder:ocata'
    cinder_db_sync: 'docker.io/openstackhelm/cinder:ocata'
    cinder_scheduler: 'docker.io/openstackhelm/cinder:ocata'
    cinder_volume: 'docker.io/openstackhelm/cinder:ocata'
    cinder_volume_usage_audit: 'docker.io/openstackhelm/cinder:ocata'
    congress_api: 'docker.io/openstackhelm/congress:ocata'
    congress_datasource: 'docker.io/openstackhelm/congress:ocata'
    congress_db_sync: 'docker.io/openstackhelm/congress:ocata'
    congress_ds_create: 'docker.io/openstackhelm/congress:ocata'
    congress_policy_engine: 'docker.io/openstackhelm/congress:ocata'
    congress_scripted_test: 'docker.io/openstackhelm/congress:ocata'
    db_drop: 'docker.io/openstackhelm/heat:ocata'
    db_init: 'docker.io/openstackhelm/heat:ocata'
    glance_api: 'docker.io/openstackhelm/glance:ocata'
    glance_bootstrap: 'docker.io/openstackhelm/heat:ocata'
    glance_db_sync: 'docker.io/openstackhelm/glance:ocata'
    glance_registry: 'docker.io/openstackhelm/glance:ocata'
    heat_api: 'docker.io/openstackhelm/heat:ocata'
    heat_cfn: 'docker.io/openstackhelm/heat:ocata'
    heat_cloudwatch: 'docker.io/openstackhelm/heat:ocata'
    heat_db_sync: 'docker.io/openstackhelm/heat:ocata'
    heat_engine: 'docker.io/openstackhelm/heat:ocata'
    heat_engine_cleaner: 'docker.io/openstackhelm/heat:ocata'
    horizon: 'docker.io/openstackhelm/horizon:ocata'
    horizon_db_sync: 'docker.io/openstackhelm/horizon:ocata'
    ironic_api: 'docker.io/openstackhelm/ironic:ocata'
    ironic_bootstrap: 'docker.io/openstackhelm/ironic:ocata'
    ironic_conductor: 'docker.io/openstackhelm/ironic:ocata'
    ironic_db_sync: 'docker.io/openstackhelm/ironic:ocata'
    ironic_pxe: 'docker.io/openstackhelm/ironic:ocata'
    ironic_pxe_init: 'docker.io/openstackhelm/ironic:ocata'
    keystone_api: 'docker.io/openstackhelm/keystone:ocata'
    keystone_bootstrap: 'docker.io/openstackhelm/heat:ocata'
    keystone_credential_rotate: 'docker.io/openstackhelm/keystone:ocata'
    keystone_credential_setup: 'docker.io/openstackhelm/keystone:ocata'
    keystone_db_sync: 'docker.io/openstackhelm/keystone:ocata'
    keystone_domain_manage: 'docker.io/openstackhelm/keystone:ocata'
    keystone_fernet_rotate: 'docker.io/openstackhelm/keystone:ocata'
    keystone_fernet_setup: 'docker.io/openstackhelm/keystone:ocata'
    ks_endpoints: 'docker.io/openstackhelm/heat:ocata'
    ks_service: 'docker.io/openstackhelm/heat:ocata'
    ks_user: 'docker.io/openstackhelm/heat:ocata'
    magnum_api: 'docker.io/openstackhelm/magnum:ocata'
    magnum_conductor: 'docker.io/openstackhelm/magnum:ocata'
    magnum_db_sync: 'docker.io/openstackhelm/magnum:ocata'
    neutron_db_sync: 'docker.io/openstackhelm/neutron:ocata'
    neutron_dhcp: 'docker.io/openstackhelm/neutron:ocata'
    neutron_l3: 'docker.io/openstackhelm/neutron:ocata'
    neutron_linuxbridge_agent: 'docker.io/openstackhelm/neutron:ocata'
    neutron_metadata: 'docker.io/openstackhelm/neutron:ocata'
    neutron_openvswitch_agent: 'docker.io/openstackhelm/neutron:ocata'
    neutron_server: 'docker.io/openstackhelm/neutron:ocata'
    neutron_sriov_agent: 'docker.io/openstackhelm/neutron:ocata-sriov-1804'
    neutron_sriov_agent_init: 'docker.io/openstackhelm/neutron:ocata-sriov-1804'
    nova_api: 'docker.io/openstackhelm/nova:ocata'
    nova_cell_setup: 'docker.io/openstackhelm/nova:ocata'
    nova_cell_setup_init: 'docker.io/openstackhelm/heat:ocata'
    nova_compute: 'docker.io/openstackhelm/nova:ocata'
    nova_compute_ironic: 'docker.io/openstackhelm/nova:ocata'
    nova_compute_ssh: 'docker.io/openstackhelm/nova:ocata'
    nova_conductor: 'docker.io/openstackhelm/nova:ocata'
    nova_consoleauth: 'docker.io/openstackhelm/nova:ocata'
    nova_db_sync: 'docker.io/openstackhelm/nova:ocata'
    nova_novncproxy: 'docker.io/kolla/ubuntu-source-nova-novncproxy:ocata'
    nova_novncproxy_assets: 'docker.io/kolla/ubuntu-source-nova-novncproxy:ocata'
    nova_placement: 'docker.io/openstackhelm/nova:ocata'
    nova_scheduler: 'docker.io/openstackhelm/nova:ocata'
    nova_spiceproxy: 'docker.io/kolla/ubuntu-source-nova-spicehtml5proxy:ocata'
    nova_spiceproxy_assets: 'docker.io/kolla/ubuntu-source-nova-spicehtml5proxy:ocata'
    scripted_test: 'docker.io/openstackhelm/heat:ocata'
    senlin_api: 'docker.io/openstackhelm/senlin:ocata'
    senlin_db_sync: 'docker.io/openstackhelm/senlin:ocata'
    senlin_engine: 'docker.io/openstackhelm/senlin:ocata'
    senlin_engine_cleaner: 'docker.io/openstackhelm/senlin:ocata'
    tempest: 'docker.io/kolla/ubuntu-source-tempest:4.0.3'
    test: 'docker.io/kolla/ubuntu-source-rally:4.0.0'
conf:
  policy:
    context_is_admin: role:admin or role:admin_support or role:admin_viewer
    owner: tenant_id:%(tenant_id)s
    admin_or_owner: role:admin or (tenant_id:%(tenant_id)s and (not role:support_member) and (not role:viewer) and (not role:admin_support) and (not role:admin_viewer) and (not role:admin_orm))
    context_is_advsvc: role:advsvc
    admin_or_network_owner: rule:context_is_admin or tenant_id:%(network:tenant_id)s
    admin_owner_or_network_owner: rule:owner or rule:admin_or_network_owner
    admin_only: role:admin
    regular_user: ''
    shared: field:networks:shared=True
    shared_firewalls: field:firewalls:shared=True
    shared_firewall_policies: field:firewall_policies:shared=True
    shared_subnetpools: field:subnetpools:shared=True
    shared_address_scopes: field:address_scopes:shared=True
    external: field:networks:router:external=True
    notprivate: field:networks:router:private=False
    private: field:networks:router:private=True
    external_and_public: rule:external and rule:notprivate
    admin_create: role:admin or role:admin_support
    admin_read: role:admin or role:admin_support or role:admin_viewer
    admin_update: role:admin
    admin_delete: role:admin
    contrail: role:admin_contrail
    tenant_create: rule:admin_create or (tenant_id:%(tenant_id)s and (not role:viewer) and (not role:admin_viewer) and (not role:admin_orm))
    tenant_create_network: rule:admin_create or (tenant_id:%(network:tenant_id)s and (not role:viewer) and (not role:admin_viewer) and (not role:admin_orm))
    tenant_read: rule:admin_read or (tenant_id:%(tenant_id)s and (not role:admin_orm))
    tenant_update: rule:admin_update or (tenant_id:%(tenant_id)s and (not role:support_member) and (not role:viewer) and (not role:admin_support) and (not role:admin_viewer) and (not role:admin_orm))
    tenant_update_network: rule:admin_update or (tenant_id:%(network:tenant_id)s and (not role:support_member) and (not role:viewer) and (not role:admin_support) and (not role:admin_viewer) and (not role:admin_orm))
    tenant_update_security_group: rule:admin_create or (tenant_id:%(tenant_id)s and (not role:viewer) and (not role:admin_viewer) and (not role:admin_orm))
    tenant_delete: rule:admin_delete or (tenant_id:%(tenant_id)s and (not role:support_member) and (not role:viewer) and (not role:admin_support) and (not role:admin_viewer) and (not role:admin_orm))
    tenant_delete_network: rule:admin_delete or (tenant_id:%(network:tenant_id)s and (not role:support_member) and (not role:viewer) and (not role:admin_support) and (not role:admin_viewer) and (not role:admin_orm))
    tenant_admin_or_network_owner: rule:admin_owner_or_network_owner and (not role:support_member) and (not role:viewer) and (not role:admin_support) and (not role:admin_viewer) and (not role:admin_orm)
    sriov_create: rule:admin_create or role:sriov_member
    sriov_read: rule:admin_read or role:sriov_member
    sriov_delete: rule:tenant_delete or role:sriov_member
    default: rule:admin_or_owner
    create_subnet: rule:tenant_create_network or rule:contrail
    get_subnet: rule:tenant_read or rule:shared or rule:contrail
    update_subnet: rule:tenant_update_network or rule:contrail
    delete_subnet: rule:tenant_delete_network or rule:contrail
    create_subnetpool: rule:tenant_create
    create_subnetpool:shared: rule:admin_create
    get_subnetpool: rule:tenant_read or rule:shared_subnetpools
    update_subnetpool: rule:tenant_update
    delete_subnetpool: rule:tenant_delete
    create_subnetpool:is_default: rule:admin_only
    update_subnetpool:is_default: rule:admin_only
    create_subnet:segment_id: rule:admin_only
    create_subnet:service_types: rule:admin_only
    get_subnet:segment_id: rule:admin_only
    update_subnet:service_types: rule:admin_only
    create_address_scope: ''
    create_address_scope:shared: rule:admin_only
    get_address_scope: rule:admin_or_owner or rule:shared_address_scopes
    update_address_scope: rule:admin_or_owner
    update_address_scope:shared: rule:admin_only
    delete_address_scope: rule:admin_or_owner
    get_network: rule:tenant_read or rule:shared or rule:external_and_public or rule:context_is_advsvc or rule:contrail
    get_network:router:external: rule:regular_user
    get_network:segments: rule:sriov_read
    get_network:provider:network_type: rule:sriov_read
    get_network:provider:physical_network: rule:sriov_read
    get_network:provider:segmentation_id: rule:sriov_read
    get_network:queue_id: rule:sriov_read
    get_network_ip_availabilities: rule:admin_only
    get_network_ip_availability: rule:admin_only
    create_network: rule:tenant_create or rule:contrail
    create_network:shared: rule:admin_create
    create_network:router:external: rule:admin_create
    create_network:router:private: rule:admin_create
    create_network:segments: rule:admin_create
    create_network:provider:network_type: rule:admin_create
    create_network:provider:physical_network: rule:admin_create
    create_network:provider:segmentation_id: rule:admin_create
    create_network:is_default: rule:admin_only
    update_network: rule:tenant_update or rule:contrail
    update_network:segments: rule:admin_update
    update_network:shared: rule:admin_update
    update_network:provider:network_type: rule:admin_update
    update_network:provider:physical_network: rule:admin_update
    update_network:provider:segmentation_id: rule:admin_update
    update_network:router:external: rule:admin_update
    delete_network: rule:tenant_delete or rule:contrail
    delete_network:provider:physical_network: rule:tenant_delete
    delete_network:router:private: rule:tenant_delete
    delete_network:provider:network_type: rule:tenant_delete
    delete_network:provider:segmentation_id: rule:tenant_delete
    create_segment: rule:admin_only
    get_segment: rule:admin_only
    update_segment: rule:admin_only
    delete_segment: rule:admin_only
    network_device: 'field:port:device_owner=~^network:'
    create_security_group: rule:tenant_create or rule:contrail
    update_security_group: rule:tenant_update_security_group or rule:contrail
    delete_security_group: rule:tenant_delete or rule:contrail
    get_security_group: rule:tenant_read or rule:contrail
    get_security_groups: rule:tenant_read or rule:contrail
    create_security_group_rule: rule:tenant_create
    delete_security_group_rule: rule:tenant_delete
    get_security_group_rule: rule:tenant_read
    get_security_group_rules: rule:tenant_read
    create_port: rule:tenant_create or rule:context_is_advsvc or rule:contrail
    create_port:device_owner: rule:tenant_create_network or not rule:network_device  or rule:context_is_advsvc
    create_port:mac_address: rule:tenant_create_network or rule:context_is_advsvc
    create_port:fixed_ips: rule:tenant_create_network or rule:context_is_advsvc
    create_port:fixed_ips:ip_address: rule:tenant_create_network or rule:context_is_advsvc
    create_port:port_security_enabled: rule:tenant_create_network or rule:context_is_advsvc
    create_port:binding:host_id: rule:admin_create
    create_port:binding:profile: rule:sriov_create
    create_port:binding:vnic_type: rule:sriov_create
    create_port:mac_learning_enabled: rule:tenant_create_network or rule:context_is_advsvc
    create_port:allowed_address_pairs: rule:tenant_create_network
    get_port: rule:context_is_advsvc or rule:tenant_read or rule:contrail or rule:tenant_admin_or_network_owner
    get_port:queue_id: rule:sriov_read
    get_port:binding:vif_type: rule:sriov_read
    get_port:binding:vif_details: rule:sriov_read
    get_port:binding:host_id: rule:sriov_read
    get_port:binding:profile: rule:sriov_read
    update_port: rule:tenant_update or rule:context_is_advsvc or rule:contrail
    update_port:device_owner: rule:tenant_update_network or not rule:network_device or rule:context_is_advsvc
    update_port:mac_address: rule:admin_update or rule:context_is_advsvc
    update_port:fixed_ips: rule:tenant_update_network or rule:context_is_advsvc
    update_port:fixed_ips:ip_address: rule:tenant_update_network or rule:context_is_advsvc
    update_port:port_security_enabled: rule:tenant_update_network or rule:context_is_advsvc
    update_port:binding:host_id: rule:admin_update
    update_port:binding:profile: rule:admin_update
    update_port:binding:vnic_type: rule:tenant_update_network or rule:context_is_advsvc or rule:contrail
    update_port:mac_learning_enabled: rule:tenant_update_network or rule:context_is_advsvc
    update_port:allowed_address_pairs: rule:tenant_update_network
    delete_port: rule:context_is_advsvc or rule:sriov_delete or rule:contrail or rule:tenant_admin_or_network_owner
    delete_port:binding:vif_details: rule:sriov_delete or rule:context_is_advsvc
    delete_port:binding:vif_type: rule:sriov_delete or rule:context_is_advsvc
    delete_port:mac_address: rule:sriov_delete or rule:context_is_advsvc
    delete_port:binding:profile: rule:sriov_delete or rule:context_is_advsvc
    delete_port:fixed_ips: rule:sriov_delete or rule:context_is_advsvc
    delete_port:binding:host_id: rule:sriov_delete or rule:context_is_advsvc
    delete_port:allowed_address_pairs: rule:tenant_delete or rule:context_is_advsvc
    delete_port:port_security_enabled: rule:sriov_delete or rule:context_is_advsvc
    delete_port:device_owner: rule:sriov_delete or rule:context_is_advsvc
    delete_port:binding:vnic_type: rule:sriov_delete or rule:context_is_advsvc
    get_router:ha: rule:admin_read
    create_router: rule:tenant_create or rule:contrail
    create_router:external_gateway_info:enable_snat: rule:admin_only
    create_router:external_gateway_info: rule:tenant_create
    create_router:external_gateway_info:network_id: rule:tenant_create
    create_router:distributed: rule:admin_create
    create_router:ha: rule:admin_create
    get_router: rule:tenant_read or rule:contrail
    get_router:distributed: rule:admin_read
    update_router: rule:tenant_update or rule:contrail
    update_router:external_gateway_info: rule:tenant_update
    update_router:external_gateway_info:network_id: rule:tenant_update
    update_router:external_gateway_info:enable_snat: rule:admin_update
    update_router:distributed: rule:admin_update
    update_router:ha: rule:admin_update
    delete_router: rule:tenant_delete or rule:contrail
    delete_router:distributed: rule:tenant_delete
    delete_router:ha: rule:tenant_delete
    add_router_interface: rule:tenant_create
    add_router_interface:ha: rule:tenant_create
    add_router_interface:external_gateway_info: rule:tenant_create
    add_router_interface:external_gateway_info:network_id: rule:tenant_create
    add_router_interface:external_gateway_info:enable_snat: rule:tenant_create
    add_router_interface:external_gateway_info:external_fixed_ips: rule:tenant_create
    add_router_interface:distributed: rule:tenant_create
    add_router_interface:flavor_id: rule:tenant_create
    remove_router_interface: rule:tenant_delete
    remove_router_interface:distributed: rule:tenant_delete
    remove_router_interface:ha: rule:tenant_delete
    remove_router_interface:flavor_id: rule:tenant_delete
    create_router:external_gateway_info:external_fixed_ips: rule:admin_only
    update_router:external_gateway_info:external_fixed_ips: rule:admin_update
    create_pool: rule:tenant_create or rule:contrail
    update_pool: rule:tenant_update or rule:contrail
    delete_pool: rule:tenant_delete or rule:contrail
    get_pool: rule:tenant_read or rule:contrail
    stats: rule:tenant_read
    create_vip: rule:tenant_create
    update_vip: rule:tenant_update
    delete_vip: rule:tenant_delete
    get_vip: rule:tenant_read
    create_member: rule:tenant_create or rule:contrail
    update_member: rule:tenant_update or rule:contrail
    delete_member: rule:tenant_delete or rule:contrail
    get_member: rule:tenant_read or rule:contrail
    create_health_monitor: rule:tenant_create or rule:contrail
    update_health_monitor: rule:tenant_update or rule:contrail
    delete_health_monitor: rule:tenant_delete or rule:contrail
    get_health_monitor: rule:tenant_read or rule:contrail
    create_pool_health_monitor: rule:tenant_create
    delete_pool_health_monitor: rule:tenant_delete
    create_firewall: rule:tenant_create
    get_firewall: rule:tenant_read
    create_firewall:shared: rule:admin_create
    get_firewall:shared: rule:admin_read
    update_firewall: rule:tenant_update
    update_firewall:shared: rule:admin_update
    delete_firewall: rule:tenant_delete
    delete_firewall:shared: rule:tenant_delete
    create_firewall_policy: rule:tenant_create
    get_firewall_policy: rule:tenant_read or rule:shared_firewall_policies
    create_firewall_policy:shared: rule:tenant_create
    update_firewall_policy: rule:tenant_update
    delete_firewall_policy: rule:tenant_delete
    create_firewall_rule: rule:tenant_create
    create_firewall_rule:shared: rule:tenant_create
    get_firewall_rule: rule:tenant_read or rule:shared_firewalls
    update_firewall_rule: rule:tenant_update
    delete_firewall_rule: rule:tenant_delete
    insert_rule: rule:admin_or_owner
    remove_rule: rule:admin_or_owner
    create_qos_queue: rule:admin_create
    get_qos_queue: rule:admin_read
    update_agent: rule:admin_update
    delete_agent: rule:admin_delete
    get_agent: rule:admin_read
    create_dhcp-network: rule:admin_create
    delete_dhcp-network: rule:admin_delete
    get_dhcp-networks: rule:admin_read
    create_l3-router: rule:admin_create
    delete_l3-router: rule:admin_delete
    get_l3-routers: rule:admin_read
    get_dhcp-agents: rule:admin_read
    get_l3-agents: rule:admin_read
    get_loadbalancer-agent: rule:admin_read
    get_loadbalancer-pools: rule:admin_read
    get_agent-loadbalancers: rule:admin_read
    get_loadbalancer-hosting-agent: rule:admin_read
    create_floatingip: rule:tenant_create or rule:contrail
    create_floatingip:floating_ip_address: rule:admin_create
    update_floatingip: rule:tenant_update or rule:contrail
    delete_floatingip: rule:tenant_delete or rule:contrail
    delete_floatingip:floating_ip_address: rule:tenant_delete
    get_floatingip: rule:tenant_read or rule:contrail
    create_network_profile: rule:admin_create
    update_network_profile: rule:admin_update
    delete_network_profile: rule:admin_delete
    get_network_profiles: rule:regular_user
    get_network_profile: rule:regular_user
    update_policy_profiles: rule:admin_update
    get_policy_profiles: rule:regular_user
    get_policy_profile: rule:regular_user
    create_metering_label: rule:admin_create
    delete_metering_label: rule:admin_delete
    get_metering_label: rule:admin_read
    create_metering_label_rule: rule:admin_create
    delete_metering_label_rule: rule:admin_delete
    get_metering_label_rule: rule:admin_read
    get_service_provider: rule:regular_user
    get_lsn: rule:admin_read
    create_lsn: rule:admin_create
    create_flavor: rule:admin_only
    update_flavor: rule:admin_only
    delete_flavor: rule:admin_only
    get_flavors: rule:regular_user
    get_flavor: rule:regular_user
    create_service_profile: rule:admin_only
    update_service_profile: rule:admin_only
    delete_service_profile: rule:admin_only
    get_service_profiles: rule:admin_only
    get_service_profile: rule:admin_only
    get_policy: rule:regular_user
    create_policy: rule:admin_only
    update_policy: rule:admin_only
    delete_policy: rule:admin_only
    get_policy_bandwidth_limit_rule: rule:regular_user
    create_policy_bandwidth_limit_rule: rule:admin_only
    delete_policy_bandwidth_limit_rule: rule:admin_only
    update_policy_bandwidth_limit_rule: rule:admin_only
    get_policy_dscp_marking_rule: rule:regular_user
    create_policy_dscp_marking_rule: rule:admin_only
    delete_policy_dscp_marking_rule: rule:admin_only
    update_policy_dscp_marking_rule: rule:admin_only
    get_rule_type: rule:regular_user
    get_policy_minimum_bandwidth_rule: rule:regular_user
    create_policy_minimum_bandwidth_rule: rule:admin_only
    delete_policy_minimum_bandwidth_rule: rule:admin_only
    update_policy_minimum_bandwidth_rule: rule:admin_only
    restrict_wildcard: '(not field:rbac_policy:target_tenant=*) or rule:admin_only'
    create_rbac_policy: ''
    create_rbac_policy:target_tenant: rule:restrict_wildcard
    update_rbac_policy: rule:admin_or_owner
    update_rbac_policy:target_tenant: rule:restrict_wildcard and rule:admin_or_owner
    get_rbac_policy: rule:admin_or_owner
    delete_rbac_policy: rule:admin_or_owner
    create_flavor_service_profile: rule:admin_only
    delete_flavor_service_profile: rule:admin_only
    get_flavor_service_profile: rule:regular_user
    get_auto_allocated_topology: rule:admin_or_owner
    create_trunk: rule:regular_user
    get_trunk: rule:admin_or_owner
    delete_trunk: rule:admin_or_owner
    get_subports: ''
    add_subports: rule:admin_or_owner
    remove_subports: rule:admin_or_owner